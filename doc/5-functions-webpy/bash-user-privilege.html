<h1>Привилегии пользователей.</h1>

<p>Linux – это многопользовательская операционная система, которая использует концепцию Unix о привилегиях для обеспечения безопасности на уровне файловой системы. </p>

<p>При работе с Linux очень важно понимать, что такое права доступа и собственности.</p>

<p>В Linux существует два типа пользователей: системные и обычные. </p>

<p>Системные пользователи предназначены для выполнения неинтерактивных и фоновых процессов, а обычные пользователи отвечают за выполнение интерактивных задач. </p>

<p>Входя в систему Linux впервые, вы могли заметить, что она запускает множество системных пользователей, которые в свою очередь запускают различные сервисы, от которых зависит система.</p>

<p>Следующая команда выведет все запущенные процессы и пользователей, от имени которых они были запущены.</p>

<pre><code>ps aux
</code></pre>

<h2>Просмотр процессов от конкретного пользователя.</h2>

<pre><code>ps -f -u zdimon
</code></pre>

<p>Чтобы просмотреть всех пользователей системы, проверьте файл /etc/passwd. </p>

<pre><code>cat /etc/passwd
</code></pre>

<h2>Добавление пользователей</h2>

<pre><code>adduser username

sudo adduser &lt;username&gt; sudo
</code></pre>

<p>Кроме основных двух типов пользователей в Linux существует также суперпользователь, или root. </p>

<p>Этот пользователь может переопределять права других пользователей на файлы и ограничивать доступ. </p>

<p>По сути, суперпользователь имеет права доступа ко всем файлам, существующим на сервере. </p>

<p>Этот пользователь имеет право вносить общесистемные изменения, потому его безопасность очень важна для безопасности самого сервера.</p>

<p>Для того, чтобы переключится в режим пользователя root можно выполнить следующую команду.</p>

<pre><code>sudo -s
</code></pre>

<p>Переключится на произвольного пользователя.</p>

<pre><code>su - username
</code></pre>

<p>Также можно настроить других пользователей для выполнения полномочий суперпользователя. Для этого нужно открыть обычному пользователю доступ к команде sudo. </p>

<p>В повседневной работе администратора сервера рекомендуется использовать именно такой аккаунт с расширенными привилегиями, поскольку использование root на постоянной основе опасно и может разрушить систему.</p>

<p>В Linux все пользователи пренадлежат одной или нескольким группам.</p>

<p>Все пользователи, состоящие в группе sudo, по умолчанию имеют права sudo.</p>

<p>Просмотреть все группы можно в файле /etc/group.</p>

<pre><code>cat /etc/group
</code></pre>

<p>Добавление прав sudo к существующему пользователю.</p>

<pre><code>sudo usermod -a -G sudo &lt;username&gt;
</code></pre>

<p>В Linux каждый файл принадлежит одному пользователю и одной группе и имеет индивидуальные настройки доступа.</p>

<p>Для просмотра прав доступа используется команда ls.</p>

<pre><code>ls -l filename
</code></pre>

<p>Пример вывода.</p>

<pre><code>drwxrwxr-x  3 zdimon zdimon    4096 апр 20  2018 soft
drwx------  5 zdimon zdimon    4096 июл 17 10:40 storage1
drwxr-xr-x 25 root   root      4096 апр 14  2017 storage2
</code></pre>

<p>Первый столбец может быть представлен такими компонентами.</p>

<pre><code>d rwx(1) rwx(2) rwx(3)
</code></pre>

<p>d – поле типа файла.</p>

<p>rwx(1) – права пользователя-владельца файла.</p>

<p>rwx(2) – права группы-владельца.</p>

<p>rwx(3) – права остальных пользователей.</p>

<p>Таким образом мы имеем 3 класса доступа:</p>

<ol>
<li><p>пользователя – владельца файла;</p></li>
<li><p>группы – владельца файла (к этому классу относятся все члены группы, в которой состоит пользователь – владелец файла);</p></li>
<li><p>и остальных пользователей (к этому классу относятся все пользователи, которые не принадлежат к предыдущим классам).</p></li>
</ol>

<p>И 3 вида доступа.</p>

<p>r (read) – право на чтение файла,</p>

<p>w (write) – право на изменение (редактирование),</p>

<p>x (execute) – право на запуск.</p>

<p>Для изменения вида доступа используется команда chmod.</p>

<p>Команда добавление прав на выполнение для всех классов доступа.</p>

<pre><code>chmod +x filename
</code></pre>

<p>Удаление прав на выполнение.</p>

<pre><code>chmod -x filename
</code></pre>

<p>Теперь вы знакомы с основными понятиями, связанными с правами доступа и собственности в окружении Linux.</p>
