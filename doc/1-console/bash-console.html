<h1>Команды BASH</h1>

<p>Вывод на экран</p>

<pre><code>echo $переменная | строка | "строка $переменная"
</code></pre>

<h2>Переменные и их вывод в консоль.</h2>

<pre><code>#!/bin/bash 
STR="Hello World!"
echo $STR
echo $PATH # переменная поиска команд
echo "$PATH - переменная поиска" # форматирование строки
</code></pre>

<h2>Команда переправления вывода</h2>

<pre><code>echo 'hello' &gt; filename.txt
echo 'hello' &gt;&gt; filename.txt
</code></pre>

<h2>Переменная PATH</h2>

<pre><code>echo $PATH
</code></pre>

<ul>
<li><p>это мета где система ищет исполняемые файлы-команды, например python</p>

<p>whereis python</p></li>
<li><p>выведет все места где находятся файлы для питона</p></li>
</ul>

<h2>Команда <strong>pwd</strong>.</h2>

<ul>
<li>вывод текущей директории</li>
</ul>

<h2>Смена директории. Команда <strong>cd</strong></h2>

<pre><code>cd ~ # домашняя директория

cd / # корневая директория

cd dirname/subdir # смена директории

cd .. # поднятие на уровень вверх
</code></pre>

<h2>Просмотр директории. Команда <strong>ls</strong>.</h2>

<pre><code>ls # краткий список
ls -l # полный список
ls -la # включая скрытые файлы
ls -lh # c кратким размером
</code></pre>

<h2>Команда <strong>grep</strong>.</h2>

<pre><code>grep -rn 'string' # поиск файлов со строкой с указанием номера строки
</code></pre>

<h2>Обединение команд оператор |.</h2>

<pre><code>ls -la | grep 'substr' # поиск файлов и директорий содержащих подстроку
</code></pre>

<h2>Команда <strong>mkdir</strong> (создание директории).</h2>

<pre><code>mkdir dirname
</code></pre>

<h2>Команда rm.</h2>

<pre><code>rm ./filename # удаление файла
rm -R dirname # удаление директории и ее содержимого
</code></pre>

<h2>Команда <strong>nano</strong>.</h2>

<pre><code>nano ./filename # редактирование файла
</code></pre>

<ul>
<li><p>ctrl+o - запись в файл</p></li>
<li><p>ctrl+x - выход из редактора</p></li>
</ul>

<h2>Команда cat</h2>

<pre><code>cat filename
</code></pre>

<p>вывод содержимого файла</p>

<h2>Системная переменная $PS1</h2>

<pre><code>echo $PS1
PS1='&gt;&gt;&gt;'
export PS1='&lt;&lt;&lt;'
</code></pre>

<h2>Команда <strong>chmode</strong>.</h2>

<pre><code>chmode +x ./filename # сделать файл исполняемым
chmod 777 ./filename # изменение прав на файл
chmod 667 -R dirname # изменение прав на содержимое директории
</code></pre>

<h2>Команда <strong>chown</strong>.</h2>

<pre><code>chown -R user:user dirname # изменение владельца и группы директории и всего содержимого рекурсивно
</code></pre>

<h2>Строка, определяющая содержимое файла (на каком языке python, php, bash и т.д.).</h2>

<pre><code>#!/bin/bash
#!/usr/bin/env python
</code></pre>

<h1>Язык bash</h1>

<p><a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html">Справочник по встроенным командам</a></p>

<h2>Перенаправление ввода-вывода</h2>

<pre><code>&gt;&gt; &gt; - перенаправляет в файл

| - соединяет вывод одной команды со вводом другой
</code></pre>

<h2>Команда <strong>source</strong> и запуск bash скриптов.</h2>

<pre><code>myscript # запуск команды (файла) из системных директорий
./myscript # запуск файла из текущей дериктории
source ./myscript # запуск скрипта в текущей сессии терминала (оболочки) shell в ТЕКУЩЕМ процессе
. ./myscript # аналог предыдущей команды
</code></pre>

<p>Использование точки говорит о текущей директории (не находящейся в переменной PATH) без точки интерпретатор будет искать файл в $PATH.   </p>

<p>Использование source позволяет менять окружение оболочки т.к. выполняется не в новом процессе как при обычном запуске (без source).</p>

<h2>Условие. Файл .bashrc</h2>

<pre><code>cd () {
    builtin cd ${1:+"$@"} # выполняем оригинальную команду с параметрами
    if [ -f "env.sh" ] # проверяем существование файла
    then
     . ./env.sh # запускаем файл
    fi  
}
</code></pre>
